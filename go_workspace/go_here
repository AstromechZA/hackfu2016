# Script to set GOPATH variable to the current directory containing this
# `go_here` script.
# Must be launched via `source` or `.`, NOT run as a script.

# Function to get absolute path of a file/dir
function abspath {
    if [[ -d "$1" ]]
    then
        (cd "$1" >/dev/null; pwd)
    elif [[ -e $1 ]]
    then
        (cd "$(dirname "$1")"; echo "$(pwd)/$(basename "$1")")
    else
        echo "$1" does not exist! >&2
        return 127
    fi
}

export GOPATH="$(dirname "$(abspath $0)")"
echo "Set GOPATH to $GOPATH"
